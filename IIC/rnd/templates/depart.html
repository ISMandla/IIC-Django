{% load static %}
<style>
/* ===========================
   Faculty / Departments â€” improved style (keeps original logic)
   ============================ */

:root{
  --page-bg: #fbfdff;
  --card-bg: #ffffff;
  --text-strong: #071330;
  --muted: #6b7280;
  --accent-blue: #2b51d6;
  --ring-shadow: rgba(43,81,214,0.12);
  --card-border: rgba(15,23,42,0.04);
  --card-shadow: 0 18px 50px rgba(2,6,23,0.06);
  --card-shadow-subtle: 0 8px 22px rgba(2,6,23,0.04);
  --radius: 18px;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* page spacing */
.about {
  background: var(--page-bg);
  padding: 72px 16px 140px;
  position: relative;
  z-index: 1;
}

/* container */
.container{ max-width:var(--max-width); margin:0 auto; padding:28px 20px 80px; }

  /* Heading */
  .heading{ text-align:center; margin-bottom:20px; }
  h1{ font-size:clamp(24px,3.6vw,44px); margin:0 0 8px; font-weight:800; letter-spacing:-0.02em; color:var(--text-strong); }
  .heading-underline{ width:88px; height:6px; border-radius:999px; margin:10px auto 0; background:var(--accent-grad); box-shadow: 0 6px 20px rgba(37,99,235,0.12); }


/* grid: center wide cards */
.about-content { display:block; }
.about-text{
  display: grid;
  gap: 28px;
  grid-template-columns: repeat(1, minmax(0,1fr));
  justify-items: center;
  margin-top: 6px;
}
@media(min-width:720px){
  /* 2 columns of wide card tracks */
  .about-text{
    grid-template-columns: repeat(2, minmax(0,1fr));
    align-items: start;
  }
}
@media (min-width: 1024px){
  .about-text{
    grid-template-columns: repeat(4, minmax(0,1fr));
  }
}

/* large card */
.about-card {
  width: 100%;
  max-width: 720px;          
  background: var(--card-bg);
  border-radius:var(--radius);
  padding: 20px 16px;
  box-shadow: var(--card-shadow-soft);
  border:1px solid rgba(2,6,23,0.04);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 18px;
  transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease;
  {% comment %} box-sizing: border-box; {% endcomment %}
  text-align: center;
  min-height: 240px;
}

.about-card:hover,
.about-card:focus-within,
.about a:focus .about-card {
  transform: translateY(-6px);
  box-shadow: var(--card-shadow);
  border-color: rgba(37,99,235,0.08);
  outline: none;
}

.card-icon {
  width: 130px;
  height: 130px;
  border-radius: 12px;
  display: grid;
  place-items: center;
  background: linear-gradient(135deg, #eef2ff, #f0f9ff);
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
  overflow: hidden;
  box-sizing: border-box;
  position: relative;
}

/* avatar image */
.card-icon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  box-shadow: inset 0 0 0 6px #ffffff;
}

/* initials fallback */
.card-initials {
  width: 100%;
  height: 100%;
  display:grid;
  place-items:center;
  font-weight:800;
  font-size:48px;
  color: #424040ff;
  background: linear-gradient(135deg, #eef2ff, #f0f9ff);
  border-radius:12px;
  letter-spacing:-0.02em;
}

/* details */
.about-card h3 {
  margin: 0;
  font-size: 22px;
  font-weight: 800;
  color: var(--text-strong);
  line-height: 1.05;
  word-break:break-word;
}

.about-card .role {
  margin: 0;
  font-size: 15px;
  color: var(--muted);
  text-align:center;
  font-weight: 600;
}

/* accessible clickable wrapper */
.about a { display:block; color:inherit; text-decoration:none; }
.about a:focus { outline-offset: 4px; }

/* smaller screens */
@media(max-width:640px){
  .about { padding:48px 12px 90px; }
  .about-card { padding: 24px 18px; max-width:520px; min-height:150px; }
  .card-icon { width:96px; height:96px; border-width:5px; }
  .card-initials { font-size:28px; }
  .about-card h3 { font-size:18px; }
  .about-card .role { font-size:14px; }
}

/* extra spacing after grid */
.about-text + * { margin-bottom: 80px; }
</style>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
<body>
  {% include 'nav.html' %}
<section class="about" id="about">
  <button type="button" class="back-btn" onclick="history.back()" style="padding:5px; border:none; background:transparent; font-size:16px; color:var(--muted); cursor:pointer; margin-bottom:12px">
    <span class="material-symbols-outlined">
    arrow_back
    </span>
  </button>
  <div class="container" id="root">
  <div class="heading">
    <h1>FACULTY {{ depart }}</h1>
    <div class="heading-underline" aria-hidden="true"></div>
  </div>

  <div class="container">

    <div class="about-content">
      <div class="about-text">
        {% for i in faculty %}
       <div style="border: 1px solid rgba(0,0,0,0.03); border-radius: 8px; padding: 0; margin-bottom: 0; background: #fbfbfe; position: relative;">
        <a href="{% url 'facul' i.id %}" aria-label="Open faculty profile {{ i.name }}">
          <div class="about-card" tabindex="0" role="group" aria-labelledby="fac-name-{{ i.id }}">
            <div class="card-icon" aria-hidden="true">
              {% if i.photo %}
                <img src="{{ i.photo.url }}" alt="Photo of {{ i.name }}">
              {% else %}
                <div class="card-initials" aria-hidden="false">{{ i.name|slice:":1"|upper }}</div>
              {% endif %}
            </div>

            <h3 id="fac-name-{{ i.id }}">{{ i.suf }} {{ i.name }}</h3>
            
            {% if i.designation %}
              <div class="role">{{ i.designation }}</div>
            {% endif %}
          </div>
        </a>
        {% if request.user.is_superuser%}
        <div style=" position: relative; align-items: right; display: flex; justify-content: flex-end;"> 
          <a href="{% url 'deletefacultform' i.id %}">
            <button style="background: #d9534f; color: #fff; border-radius: 5px; padding:5px 10px;">
              <span class="material-symbols-outlined">
              delete_forever
              </span>
            </button>
          </a>
        </div>
        {% endif %}
        </div>
        {% endfor %}
      </div>
    </div>
  </div>
</section>
{% include 'foot.html' %}
</body>
