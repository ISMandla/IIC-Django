{% load static %}
<style>
/* ===========================
   Faculty / Departments — improved style (keeps original logic)
   ============================ */

:root{
  --page-bg: #fbfdff;
  --card-bg: #ffffff;
  --text-strong: #071330;
  --muted: #6b7280;
  --accent-blue: #2b51d6;
  --ring-shadow: rgba(43,81,214,0.12);
  --card-border: rgba(15,23,42,0.04);
  --card-shadow: 0 18px 50px rgba(2,6,23,0.06);
  --card-shadow-subtle: 0 8px 22px rgba(2,6,23,0.04);
  --radius: 18px;
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* page spacing */
.about {
  background: var(--page-bg);
  padding: 72px 16px 140px;
  position: relative;
  z-index: 1;
}

/* container */
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
  box-sizing: border-box;
}

/* heading */
.about h2.section-title,
.about h2 {
  font-size: clamp(26px, 3.2vw, 44px);
  font-weight: 800;
  color: var(--text-strong);
  margin: 0 0 20px;
  text-align: center;
}

/* grid: center wide cards */
.about-content { display:block; }
.about-text{
  display: grid;
  gap: 28px;
  grid-template-columns: repeat(1, minmax(0,1fr));
  justify-items: center;
  margin-top: 6px;
}
@media(min-width:720px){
  /* 2 columns of wide card tracks */
  .about-text{
    grid-template-columns: repeat(2, minmax(0,1fr));
    align-items: start;
  }
}
@media (min-width: 1024px){
  .about-text{
    grid-template-columns: repeat(4, minmax(0,1fr));
  }
}

/* large card */
.about-card {
  width: 100%;
  max-width: 720px;          /* wide rectangular look */
  background: var(--card-bg);
  border-radius: calc(var(--radius) + 6px);
  padding: 40px 36px;
  box-shadow: var(--card-shadow-subtle);
  border: 1px solid var(--card-border);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 18px;
  transition: transform .18s cubic-bezier(.2,.9,.3,1), box-shadow .18s ease, border-color .18s ease;
  box-sizing: border-box;
  text-align: center;
  min-height: 240px;
}

/* hover and keyboard focus lift */
.about-card:hover,
.about-card:focus-within,
.about a:focus .about-card {
  transform: translateY(-8px);
  box-shadow: var(--card-shadow);
  border-color: rgba(43,81,214,0.08);
  outline: none;
}

/* avatar ring */
.card-icon {
  width: 130px;
  height: 130px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  background: linear-gradient(180deg,#ffffff,#f7fbff);
  border: 6px solid var(--accent-blue);
  box-shadow: 0 8px 26px var(--ring-shadow);
  overflow: hidden;
  box-sizing: border-box;
  position: relative;
}

/* avatar image */
.card-icon img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
  border-radius: 999px;
  box-shadow: inset 0 0 0 6px #ffffff; /* white inset like screenshot */
}

/* initials fallback */
.card-initials {
  width: 100%;
  height: 100%;
  display:grid;
  place-items:center;
  font-weight:800;
  font-size:48px;
  color: #fff;
  background: linear-gradient(135deg,#3b82f6,#2563eb);
  border-radius:999px;
  letter-spacing:-0.02em;
}

/* details */
.about-card h3 {
  margin: 0;
  font-size: 22px;
  font-weight: 800;
  color: var(--text-strong);
  line-height: 1.05;
  word-break:break-word;
}

.about-card .role {
  margin: 0;
  font-size: 15px;
  color: var(--muted);
  text-align:center;
  font-weight: 600;
}

/* accessible clickable wrapper */
.about a { display:block; color:inherit; text-decoration:none; }
.about a:focus { outline-offset: 4px; }

/* smaller screens */
@media(max-width:640px){
  .about { padding:48px 12px 90px; }
  .about-card { padding: 24px 18px; max-width:520px; min-height:150px; }
  .card-icon { width:96px; height:96px; border-width:5px; }
  .card-initials { font-size:28px; }
  .about-card h3 { font-size:18px; }
  .about-card .role { font-size:14px; }
}

/* extra spacing after grid */
.about-text + * { margin-bottom: 80px; }
</style>

<body>
  {% include 'nav.html' %}
<section class="about" id="about">
  <div class="container">
    <h2 style="text-align:center;margin-bottom:14px; color: black">{{ depart }}</h2>

    <div class="about-content">
      <div class="about-text">
        {% for i in faculty %}
        <a href="{% url 'facul' i.id %}" aria-label="Open faculty profile {{ i.name }}">
          <div class="about-card" tabindex="0" role="group" aria-labelledby="fac-name-{{ i.id }}">
            <div class="card-icon" aria-hidden="true">
              {% if i.photo %}
                <img src="{{ i.photo.url }}" alt="Photo of {{ i.name }}">
              {% else %}
                <div class="card-initials" aria-hidden="false">{{ i.name|slice:":1"|upper }}</div>
              {% endif %}
            </div>

            <h3 id="fac-name-{{ i.id }}">{{ i.suf }} {{ i.name }}</h3>
            {# optional role/position — leave blank if not set (keeps logic same) #}
            {% if i.designation %}
              <div class="role">{{ i.designation }}</div>
            {% endif %}
          </div>
        </a>
        {% endfor %}
      </div>
    </div>
  </div>
</section>
{% include 'foot.html' %}
</body>
