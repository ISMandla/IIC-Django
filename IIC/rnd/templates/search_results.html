{% load static %} 
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Institution of Innovation Council — R&amp;D Cell</title>
    <meta
      name="description"
      content="IIC R&D Cell — searchable researches and departments"
    />
    <style>
      /* ---------- Layout tokens ---------- */
      :root{
        --bg: #f7fafc;
        --card-bg: #ffffff;
        --muted: #6b7280;
        --text: #0f1724;
        --accent: #2563eb;
        --accent-2: #06b6d4;
        --radius: 14px;
        --card-shadow: 0 10px 30px rgba(2,6,23,0.06);
        --card-shadow-soft: 0 6px 18px rgba(2,6,23,0.04);
        --max-width: 1200px;
      }

      /* ---------- resets ---------- */
      *{box-sizing:border-box}
      html,body{height:100%;margin:0;font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}
      a{color:inherit;text-decoration:none}
      img{display:block;max-width:100%}

      /* ---------- container ---------- */
      .container{
        max-width:var(--max-width);
        margin:28px auto;
        padding:20px;
      }

      /* ---------- search heading ---------- */
      h2{
        font-size: clamp(18px, 2.4vw, 26px);
        margin:0 0 18px 0;
        font-weight:700;
        letter-spacing:-0.01em;
      }
      .subtitle{
        color:var(--muted);
        margin-top:8px;
        font-size:14px;
      }

      /* ---------- grid (responsive) ---------- */
      .grid{
        display:grid;
        gap:18px;
        grid-template-columns: repeat(1, minmax(0,1fr));
      }
      @media (min-width:640px){
        .grid{ grid-template-columns: repeat(2, minmax(0,1fr)); }
      }
      @media (min-width:900px){
        .grid{ grid-template-columns: repeat(3, minmax(0,1fr)); }
      }
      @media (min-width:1200px){
        /* 4 columns on very wide screens */
        .grid{ grid-template-columns: repeat(4, minmax(0,1fr)); }
      }

      /* ---------- card ---------- */
      .card{
        background:var(--card-bg);
        border-radius:var(--radius);
        padding:18px;
        border:1px solid rgba(2,6,23,0.04);
        box-shadow: var(--card-shadow-soft);
        min-height:160px;
        display:flex;
        flex-direction:column;
        align-items:center;
        gap:12px;
        transition: transform .16s ease, box-shadow .16s ease, border-color .16s ease;
        text-align:center;
      }
      .card:focus-within, .card:focus, .card:hover{
        transform:translateY(-6px);
        box-shadow: var(--card-shadow);
        border-color: rgba(37,99,235,0.08);
        outline: none;
      }

      /* ---------- icon ---------- */
      .card-icon{
        width:72px;
        height:72px;
        border-radius:12px;
        display:flex;
        align-items:center;
        justify-content:center;
        background: linear-gradient(135deg, #eef2ff, #f0f9ff);
        box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
        flex-shrink:0;
      }
      .card-icon img{ width:44px; height:44px; object-fit:contain; }

      /* ---------- text ---------- */
      .name{ font-size:15px; font-weight:700; margin:0; color:var(--text); }
      .dept-title{ font-size:13px; color:var(--muted); font-weight:600; margin-top:4px; }

      /* ---------- empty ---------- */
      .empty{
        padding:26px;
        border-radius:12px;
        background:var(--card-bg);
        box-shadow:var(--card-shadow-soft);
        border:1px solid rgba(2,6,23,0.03);
        color:var(--muted);
      }

      /* ---------- accessibility helpers ---------- */
      .card[tabindex]{ cursor:pointer }
      .sr-only{ position:absolute !important; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0; }

      /* ---------- small screens ---------- */
      @media (max-width:420px){
        .container{ padding:14px }
        .card{ padding:14px; min-height:120px }
        .card-icon{ width:56px; height:56px }
        .card-icon img{ width:36px; height:36px }
      }
    </style>

    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-pap0X...replace-with-current-integrity..."
      crossorigin="anonymous" referrerpolicy="no-referrer" />
  </head>
  <body>
    {% include 'nav.html' %}

    <section class="container" aria-labelledby="searchHeading">
      <h2 id="searchHeading">Search results for “{{ q|escape }}”</h2>
      <div class="subtitle" aria-hidden="true">{{ results|length }} result{{ results|length|pluralize }}</div>

      {% if results %}
        <div class="grid" role="list">
        {% for r in results %}
            <div class="card" role="listitem" tabindex="0" aria-label="{{ r.name }}">
              <div class="card-icon" aria-hidden="true">
              {% if r.photo %}
                <img src="{{ r.photo.url }}" alt="Photo of {{ r.name }}">
              {% else %}
                <div class="card-initials" aria-hidden="false" style="font-size: 2rem; font-weight: bold;">{{ r.name|slice:":1"|upper }}</div>
              {% endif %}
            </div>

              <h3 class="name">{{ r.suf }} {{ r.name }}</h3>
              <div class="dept-title">{% if r.dept %} {{ r.dept }}{% endif %}</div>
            </div>
        {% endfor %}
        </div>
      {% else %}
        <p class="empty">No results found.</p>
      {% endif %}
    </section>

    {% include 'foot.html' %}
  </body>
</html>
