{% load static %}
<style>
:root{
  --page-bg:#f8fafc;
  --card-bg:#ffffff;

  --text-strong:#0f172a;
  --text-soft:#475569;
  --muted:#64748b;

  --accent-blue:#2563eb;
  --accent-green:#22c55e;

  --card-border:rgba(15,23,42,0.08);
  --card-shadow:0 30px 60px rgba(15,23,42,0.12);
  --card-shadow-subtle:0 12px 28px rgba(15,23,42,0.08);

  --radius-lg:20px;
  --radius-sm:12px;
  --radius-full:999px;

  --transition-fast:180ms cubic-bezier(.2,.9,.2,1);
  --container-max:1200px;
  --max-card-width:360px;
}

*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  background:
    radial-gradient(1200px 600px at 10% -10%, #eef2ff, transparent 60%),
    radial-gradient(900px 500px at 90% 0%, #ecfeff, transparent 55%),
    var(--page-bg);
  color:var(--text-strong);
  line-height:1.5;
  -webkit-font-smoothing:antialiased;
}

/* PAGE */
.about{
  padding:96px 18px 140px;
  position:relative;
  min-height:calc(100vh - 160px);
}

.container{
  max-width:var(--container-max);
  margin:0 auto;
  padding:0 20px;
}

/* HEADER */
.heading{
  text-align:center;
  margin-bottom:72px;
}

.heading h1{
  font-size:clamp(42px,6vw,74px);
  font-weight:800;
  margin:0 0 10px;
  letter-spacing:-0.03em;
  line-height:1.05;
  color:var(--text-strong);
}

.heading-underline{
  width:110px;
  height:6px;
  margin:12px auto 26px;
  background:linear-gradient(90deg,var(--accent-blue),var(--accent-green));
  border-radius:var(--radius-full);
  box-shadow:0 8px 24px rgba(37,99,235,.2);
}

.heading h3{
  max-width:720px;
  margin:0 auto;
  font-size:15px;
  font-weight:500;
  color:var(--muted);
}

/* GRID */
.about-text{
  margin-top:14px;
  display:grid;
  gap:28px;
  justify-items: start;
  justify-content:start;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  align-items:stretch;
}

/* CARD */
.about-card{
  width:100%;
  max-width:var(--max-card-width);
  background:
    linear-gradient(180deg,rgba(255,255,255,.96),var(--card-bg));
  border-radius:var(--radius-lg);
  padding:24px 22px 26px;
  border:1px solid var(--card-border);
  box-shadow:var(--card-shadow-subtle);
  text-align:center;
  display:flex;
  flex-direction:column;
  gap:14px;
  align-items:center;
  cursor:pointer;
  transition:
    transform var(--transition-fast),
    box-shadow var(--transition-fast);
}

.about-card:hover,
.about-card:focus,
.about-card:focus-within{
  transform:translateY(-10px);
  box-shadow:var(--card-shadow);
}

.about-card:active{
  transform:translateY(-3px);
}

/* Focus accessibility */
.about-card:focus-visible{
  outline:3px solid rgba(37,99,235,.25);
  outline-offset:5px;
}

/* IMAGE */
.card-icon{
  width:160px;
  height:160px;
  border-radius:50%;
  overflow:hidden;
  background:
    linear-gradient(180deg,#ffffff,#eef2ff);
  display:grid;
  place-items:center;
  box-shadow:0 10px 30px rgba(15,23,42,.08);
}

.card-icon img{
  width:100%;
  height:100%;
  object-fit:cover;
}

/* INITIALS */
.card-initials{
  font-size:48px;
  font-weight:800;
  letter-spacing:-0.03em;
  color:#0f172a;
}

/* TEXT */
.about-card h1{
  margin-top:6px;
  font-size:19px;
  font-weight:800;
  line-height:1.25;
}

.about-card h3{
  font-size:14px;
  font-weight:600;
  color:var(--text-soft);
}

/* LINK */
.about-card a{
  margin-top:6px;
  text-decoration:none;
  color:var(--accent-blue);
  font-weight:600;
  font-size:13px;
  padding:8px 14px;
  border-radius:var(--radius-full);
  {% comment %} background:rgba(37,99,235,.06); {% endcomment %}
  transition:
    background var(--transition-fast),
    transform var(--transition-fast);
}

.about-card a:hover{
  background:rgba(37,99,235,.12);
  transform:translateY(-2px);
}

/* ADMIN */
.admin-add-wrapper{
  width:100%;
  display:flex;
  justify-content:flex-end;
}

.admin-add-btn{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:8px 14px;
  border-radius:var(--radius-full);
  border:none;
  background:linear-gradient(135deg,#2563eb,#1e40af);
  color:#fff;
  font-size:14px;
  font-weight:600;
  cursor:pointer;
  {% comment %} box-shadow:0 12px 30px rgba(37,99,235,.28); {% endcomment %}
  transition:
    transform 140ms ease,
    box-shadow 140ms ease;
}

.admin-add-btn:hover{
  transform:translateY(-2px);
}

.admin-add-btn:active{
  transform:translateY(0);
}

/* BACK BUTTON */
.back-btn{
  display:inline-flex;
  align-items:center;
  gap:6px;
  padding:6px 8px;
  border-radius:10px;
  background:transparent;
  color:var(--text-strong);
  transition:
    background 140ms ease,
    transform 140ms ease;
}

.back-btn:hover{
  background:rgba(15,23,42,.05);
  transform:translateY(-1px);
}

/* RESPONSIVE */
@media (max-width:880px){
  .about{
    padding:72px 14px 100px;
  }
  .card-icon{
    width:140px;
    height:140px;
  }
}

@media (max-width:420px){
  .heading h1{
    font-size:clamp(30px,9vw,42px);
  }
  .card-icon{
    width:120px;
    height:120px;
  }
  .about{
    padding:40px 12px 80px;
  }
}

/* ACCESSIBILITY */
.visually-hidden{
  position:absolute!important;
  height:1px;
  width:1px;
  overflow:hidden;
  clip:rect(1px,1px,1px,1px);
  white-space:nowrap;
}

</style>

<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet" />
<body>
  {% include 'nav.html' %}
<section class="about" id="about">
  <div class="container">
    <button type="button" class="back-btn" onclick="history.back()" style="padding:5px; border:none; background:transparent; font-size:16px; color:var(--muted); cursor:pointer; margin-bottom:12px">
      <span class="material-symbols-outlined">
      arrow_back
      </span>
    </button>
    <div class="heading">
        <h1>Certificate</h1>
        <div class="heading-underline" aria-hidden="true"></div>
    </div>

    {% if request.user.is_superuser %}
    <div class="admin-add-wrapper">
        <a href="{% url "add_certificate" %}" class="admin-add-link">
            <button type="button" class="admin-add-btn">
                <span class="material-symbols-outlined">
                    add
                </span>
                <span class="admin-add-text">Add Certificate</span>
            </button>
        </a>
    </div>
    {% endif %}

    <div class="about-content">
        <!-- ADMINISTRATIVE TEAM -->
        <div class="about-text">
            {% for i in certificates %}
            <a aria-label="Open profile {{ i.name }}">
                <div class="about-card" tabindex="0" role="group" aria-labelledby="fac-name-{{ i.id }}">
                    {% if request.user.is_superuser %}
                    <div class="admin-add-wrapper">
                        <a href="{% url "delete_certificate" i.id %}" class="admin-add-link">
                            <button type="button" class="admin-add-btn">
                                <span class="material-symbols-outlined">
                                    delete_forever
                                </span>
                            </button>
                        </a>
                    </div>
                    {% endif %}
                    <div class="card-icon" aria-hidden="true">
                        {% if i.photo %}
                        <img src="{{ i.photo.url }}" alt="Photo of {{ i.name }}">
                        {% else %}
                        <div class="card-initials">{{ i.name|slice:":1"|upper }}</div>
                        {% endif %}
                    </div>

                    <h1 id="fac-name-{{ i.id }}">{{ i.name }}</h1>

                    <h3 id="fac-name-{{ i.id }}">{{ i.date }}</h3>


                    {% if i.support %}
                    <div>
                        <a href="{{ i.support.url }}" target="_blank" rel="noopener noreferrer" style="text-decoration:none; color:var(--accent-blue); font-weight:600;">
                            View Certificate
                        </a>
                    </div>
                     {% else %}
                      {% endif %}
                </div>
            </a>
            {% empty %}
            <p>No certificate added yet.</p>
            {% endfor %}
        </div>
    </div>
</section>
{% include 'foot.html' %}
</body>
